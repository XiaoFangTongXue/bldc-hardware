EESchema Schematic File Version 4
LIBS:LESC-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 5
Title "VESC 6.4 redraw"
Date "2018-04-26"
Rev "6.4"
Comp "LI XITONG"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 4150 1350 2250 3950
U 5AE146B2
F0 "stm32f40x" 50
F1 "mcu.sch" 50
F2 "VOLTAGE_1" I R 6400 2800 50 
F3 "VOLTAGE_2" I R 6400 2900 50 
F4 "VOLTAGE_3" I R 6400 3000 50 
F5 "ADC_TEMP" I R 6400 3900 50 
F6 "RX_SDA_NSS" B L 4150 4350 50 
F7 "SCK_ADC_EXT" I L 4150 4450 50 
F8 "MISO_ADC_EXT2" I L 4150 4150 50 
F9 "TX_SCL_MOSI" O L 4150 4250 50 
F10 "H1" O R 6400 1450 50 
F11 "H2" O R 6400 1550 50 
F12 "H3" O R 6400 1650 50 
F13 "USB_DM" B L 4150 1450 50 
F14 "USB_DP" B L 4150 1550 50 
F15 "LED_GREEN" O R 6400 5200 50 
F16 "LED_RED" O R 6400 5100 50 
F17 "EN_GATE" O R 6400 2200 50 
F18 "SERVO" O L 4150 4650 50 
F19 "FAULT" I R 6400 2100 50 
F20 "CAN_RX" I L 4150 2450 50 
F21 "CAN_TX" O L 4150 2300 50 
F22 "PB12" I R 6400 4700 50 
F23 "L1" O R 6400 1750 50 
F24 "L2" O R 6400 1850 50 
F25 "L3" O R 6400 1950 50 
F26 "CURRENT_1" I R 6400 3450 50 
F27 "CURRENT_2" I R 6400 3600 50 
F28 "CURRENT_3" I R 6400 3750 50 
F29 "AN_IN" I R 6400 3100 50 
F30 "TEMP_MOTOR" I L 4150 3800 50 
F31 "ADC_15" I L 4150 4050 50 
F32 "HALL_1" I L 4150 3700 50 
F33 "HALL_2" I L 4150 3600 50 
F34 "HALL_3" I L 4150 3500 50 
F35 "SPI3_CS" I R 6400 2600 50 
F36 "SPI3_SCK" I R 6400 2500 50 
F37 "SPI3_MISO" I R 6400 2300 50 
F38 "SPI3_MOSI" I R 6400 2400 50 
F39 "PD2" I R 6400 4400 50 
F40 "NRST" I L 4150 5200 50 
F41 "SWDIO" I L 4150 5100 50 
F42 "SWCLK" I L 4150 4900 50 
F43 "PB3" I R 6400 4500 50 
F44 "PB4" I R 6400 4600 50 
$EndSheet
$Sheet
S 7000 1350 1550 1850
U 5AE1478F
F0 "DRV8301" 50
F1 "DRV8301.sch" 50
F2 "FAULT" I L 7000 2100 50 
F3 "CS" I L 7000 2600 50 
F4 "SDI" I L 7000 2400 50 
F5 "SDO" I L 7000 2300 50 
F6 "SCLK" I L 7000 2500 50 
F7 "EN_GATE" I L 7000 2200 50 
F8 "INL_A" I L 7000 1450 50 
F9 "INH_B" I L 7000 1550 50 
F10 "INL_B" I L 7000 1850 50 
F11 "INH_C" I L 7000 1650 50 
F12 "INL_C" I L 7000 1950 50 
F13 "SUPPLY" I R 8550 1450 50 
F14 "GH_A" I R 8550 1650 50 
F15 "GL_A" I R 8550 1850 50 
F16 "SL_A" I R 8550 1950 50 
F17 "GH_B" I R 8550 2200 50 
F18 "GL_B" I R 8550 2400 50 
F19 "SL_B" I R 8550 2500 50 
F20 "GH_C" I R 8550 2650 50 
F21 "GL_C" I R 8550 2850 50 
F22 "SL_C" I R 8550 2950 50 
F23 "SH_A" I R 8550 1750 50 
F24 "SH_B" I R 8550 2300 50 
F25 "SH_C" I R 8550 2750 50 
F26 "SENS_SUPPLY" I L 7000 3100 50 
F27 "SENS_A" I L 7000 2800 50 
F28 "SENS_B" I L 7000 2900 50 
F29 "SENS_C" I L 7000 3000 50 
F30 "INH_A" I L 7000 1750 50 
$EndSheet
Wire Wire Line
	6400 1450 7000 1450
Wire Wire Line
	6400 1550 7000 1550
Wire Wire Line
	6400 1650 7000 1650
Wire Wire Line
	6400 1750 7000 1750
Wire Wire Line
	6400 1850 7000 1850
Wire Wire Line
	6400 1950 7000 1950
Wire Wire Line
	7000 1950 7000 2000
Wire Wire Line
	6400 2100 7000 2100
Wire Wire Line
	6400 2200 7000 2200
Wire Wire Line
	6400 2300 7000 2300
Wire Wire Line
	6400 2400 7000 2400
Wire Wire Line
	6400 2500 7000 2500
Wire Wire Line
	6400 2600 7000 2600
Wire Wire Line
	6400 2800 7000 2800
Wire Wire Line
	6400 2900 7000 2900
Wire Wire Line
	6400 3000 7000 3000
Wire Wire Line
	6400 3100 7000 3100
Wire Wire Line
	6400 3450 9250 3450
$Sheet
S 9250 1350 1250 2700
U 5AE14A7C
F0 "power" 50
F1 "power.sch" 50
F2 "GL_B" I L 9250 2400 50 
F3 "SH_B" I L 9250 2300 50 
F4 "SL_B" I L 9250 2500 50 
F5 "GH_B" I L 9250 2200 50 
F6 "GL_A" I L 9250 1850 50 
F7 "SH_A" I L 9250 1750 50 
F8 "SL_A" I L 9250 1950 50 
F9 "GH_A" I L 9250 1650 50 
F10 "GL_C" I L 9250 2850 50 
F11 "SH_C" I L 9250 2750 50 
F12 "SL_C" I L 9250 2950 50 
F13 "GH_C" I L 9250 2650 50 
F14 "CURR_A" I L 9250 3450 50 
F15 "CURR_B" I L 9250 3600 50 
F16 "TEMP" I L 9250 3900 50 
F17 "SUPPLY" I L 9250 1450 50 
F18 "CURR_C" I L 9250 3750 50 
$EndSheet
Wire Wire Line
	6400 3600 9250 3600
Wire Wire Line
	6400 3750 9250 3750
Wire Wire Line
	6400 3900 9250 3900
Wire Wire Line
	8550 1450 9250 1450
Wire Wire Line
	8550 1650 9250 1650
Wire Wire Line
	8550 1750 9250 1750
Wire Wire Line
	8550 1850 9250 1850
Wire Wire Line
	9250 1850 9250 1900
Wire Wire Line
	8550 1950 9250 1950
Wire Wire Line
	8550 2200 9250 2200
Wire Wire Line
	8550 2300 9250 2300
Wire Wire Line
	8550 2400 9250 2400
Wire Wire Line
	8550 2500 9250 2500
Wire Wire Line
	8550 2650 9250 2650
Wire Wire Line
	8550 2750 9250 2750
Wire Wire Line
	8550 2850 9250 2850
Wire Wire Line
	8550 2950 9250 2950
$Comp
L power:PWR_FLAG #FLG?
U 1 1 5AEA1383
P 1300 6800
F 0 "#FLG?" H 1300 6875 50  0001 C CNN
F 1 "PWR_FLAG" V 1300 6928 50  0000 L CNN
F 2 "" H 1300 6800 50  0001 C CNN
F 3 "~" H 1300 6800 50  0001 C CNN
	1    1300 6800
	0    -1   -1   0   
$EndComp
$Comp
L power:PWR_FLAG #FLG?
U 1 1 5AEA1395
P 1300 7000
F 0 "#FLG?" H 1300 7075 50  0001 C CNN
F 1 "PWR_FLAG" V 1300 7128 50  0000 L CNN
F 2 "" H 1300 7000 50  0001 C CNN
F 3 "~" H 1300 7000 50  0001 C CNN
	1    1300 7000
	0    -1   -1   0   
$EndComp
$Comp
L power:PWR_FLAG #FLG?
U 1 1 5AEA13A0
P 1300 7200
F 0 "#FLG?" H 1300 7275 50  0001 C CNN
F 1 "PWR_FLAG" V 1300 7328 50  0000 L CNN
F 2 "" H 1300 7200 50  0001 C CNN
F 3 "~" H 1300 7200 50  0001 C CNN
	1    1300 7200
	0    -1   -1   0   
$EndComp
$Comp
L power:PWR_FLAG #FLG?
U 1 1 5AEA13AB
P 1300 7400
F 0 "#FLG?" H 1300 7475 50  0001 C CNN
F 1 "PWR_FLAG" V 1300 7528 50  0000 L CNN
F 2 "" H 1300 7400 50  0001 C CNN
F 3 "~" H 1300 7400 50  0001 C CNN
	1    1300 7400
	0    -1   -1   0   
$EndComp
Text GLabel 1700 6800 2    50   Input ~ 0
SUPPLY
$Comp
L power:+5V #PWR?
U 1 1 5AEA140D
P 1700 7000
F 0 "#PWR?" H 1700 6850 50  0001 C CNN
F 1 "+5V" V 1715 7128 50  0000 L CNN
F 2 "" H 1700 7000 50  0001 C CNN
F 3 "" H 1700 7000 50  0001 C CNN
	1    1700 7000
	0    1    1    0   
$EndComp
$Comp
L power:VCC #PWR?
U 1 1 5AEA14B4
P 1700 7200
F 0 "#PWR?" H 1700 7050 50  0001 C CNN
F 1 "VCC" V 1717 7328 50  0000 L CNN
F 2 "" H 1700 7200 50  0001 C CNN
F 3 "" H 1700 7200 50  0001 C CNN
	1    1700 7200
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5AEA1523
P 1700 7400
F 0 "#PWR?" H 1700 7150 50  0001 C CNN
F 1 "GND" V 1705 7272 50  0000 R CNN
F 2 "" H 1700 7400 50  0001 C CNN
F 3 "" H 1700 7400 50  0001 C CNN
	1    1700 7400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1300 6800 1700 6800
Wire Wire Line
	1300 7000 1700 7000
Wire Wire Line
	1300 7200 1700 7200
Wire Wire Line
	1300 7400 1700 7400
$Comp
L Connector:USB_OTG J?
U 1 1 5AEA387A
P 2600 1450
F 0 "J?" H 2655 1917 50  0000 C CNN
F 1 "USB_OTG" H 2655 1826 50  0000 C CNN
F 2 "" H 2750 1400 50  0001 C CNN
F 3 " ~" H 2750 1400 50  0001 C CNN
	1    2600 1450
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5AEA3912
P 3400 1450
F 0 "R?" V 3200 1450 50  0000 C CNN
F 1 "R" V 3284 1450 50  0000 C CNN
F 2 "" V 3330 1450 50  0001 C CNN
F 3 "~" H 3400 1450 50  0001 C CNN
	1    3400 1450
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5AEA3945
P 3400 1550
F 0 "R?" V 3193 1550 50  0000 C CNN
F 1 "R" V 3284 1550 50  0000 C CNN
F 2 "" V 3330 1550 50  0001 C CNN
F 3 "~" H 3400 1550 50  0001 C CNN
	1    3400 1550
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5AEA3976
P 3200 1250
F 0 "R?" V 2993 1250 50  0000 C CNN
F 1 "R" V 3084 1250 50  0000 C CNN
F 2 "" V 3130 1250 50  0001 C CNN
F 3 "~" H 3200 1250 50  0001 C CNN
	1    3200 1250
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5AEA3A3B
P 2500 1850
F 0 "#PWR?" H 2500 1600 50  0001 C CNN
F 1 "GND" H 2505 1677 50  0000 C CNN
F 2 "" H 2500 1850 50  0001 C CNN
F 3 "" H 2500 1850 50  0001 C CNN
	1    2500 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 1450 4150 1450
Wire Wire Line
	3550 1550 4150 1550
Wire Wire Line
	2900 1550 3250 1550
Wire Wire Line
	2900 1450 3250 1450
Wire Wire Line
	2900 1250 3050 1250
Wire Wire Line
	3350 1250 3350 850 
$Comp
L power:+5V #PWR?
U 1 1 5AEA851A
P 3350 850
F 0 "#PWR?" H 3350 700 50  0001 C CNN
F 1 "+5V" H 3365 1023 50  0000 C CNN
F 2 "" H 3350 850 50  0001 C CNN
F 3 "" H 3350 850 50  0001 C CNN
	1    3350 850 
	1    0    0    -1  
$EndComp
$Sheet
S 2800 2200 1000 400 
U 5AEAA308
F0 "CAN" 50
F1 "CAN.sch" 50
F2 "TX" I R 3800 2300 50 
F3 "RX" I R 3800 2450 50 
F4 "CANH" I L 2800 2300 50 
F5 "CANL" I L 2800 2500 50 
$EndSheet
Wire Wire Line
	3800 2300 4150 2300
Wire Wire Line
	3800 2450 4150 2450
$EndSCHEMATC
